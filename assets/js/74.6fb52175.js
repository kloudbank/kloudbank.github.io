(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{790:function(t,v,_){"use strict";_.r(v);var r=_(15),e=Object(r.a)({},(function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h2",{attrs:{id:"cluster-name"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#cluster-name"}},[t._v("#")]),t._v(" cluster name")]),t._v(" "),_("ul",[_("li",[t._v("hcpcq")])]),t._v(" "),_("h2",{attrs:{id:"domain-name"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#domain-name"}},[t._v("#")]),t._v(" domain name")]),t._v(" "),_("ul",[_("li",[t._v("*.hcpcq.kubepia.net")])]),t._v(" "),_("h2",{attrs:{id:"project-prefix-name"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#project-prefix-name"}},[t._v("#")]),t._v(" project(prefix) name")]),t._v(" "),_("ul",[_("li",[t._v("hcp-sre")])]),t._v(" "),_("h2",{attrs:{id:"namespace-구성"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#namespace-구성"}},[t._v("#")]),t._v(" namespace 구성")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("Type")]),t._v(" "),_("th",[t._v("Namespace")]),t._v(" "),_("th",[t._v("Detail")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("CICD")]),t._v(" "),_("td",[t._v("hcp-sre-argocd")]),t._v(" "),_("td",[t._v("argocd 배포 위치")])]),t._v(" "),_("tr",[_("td",[t._v("CICD")]),t._v(" "),_("td",[t._v("hcp-sre-argo")]),t._v(" "),_("td",[t._v("argoworkflows 배포 및 workflow 생성 및 실행 위치")])]),t._v(" "),_("tr",[_("td",[t._v("CICD")]),t._v(" "),_("td",[t._v("hcp-sre-harbor")]),t._v(" "),_("td",[t._v("harbor 배포 위치")])]),t._v(" "),_("tr",[_("td",[t._v("CICD")]),t._v(" "),_("td",[t._v("hcp-sre-gitea")]),t._v(" "),_("td",[t._v("gitea 배포 위치")])]),t._v(" "),_("tr",[_("td",[t._v("Mon/Alert")]),t._v(" "),_("td",[t._v("hcp-sre-prometheus")]),t._v(" "),_("td",[t._v("prometheus")])]),t._v(" "),_("tr",[_("td",[t._v("Mon/Alert")]),t._v(" "),_("td",[t._v("hcp-sre-alertmanager")]),t._v(" "),_("td",[t._v("alertmanager")])]),t._v(" "),_("tr",[_("td",[t._v("Mon/Alert")]),t._v(" "),_("td",[t._v("hcp-sre-grafana")]),t._v(" "),_("td",[t._v("grafana")])]),t._v(" "),_("tr",[_("td",[t._v("Mon/Alert")]),t._v(" "),_("td",[t._v("hcp-sre-loki")]),t._v(" "),_("td",[t._v("loki")])]),t._v(" "),_("tr",[_("td",[t._v("Apps.")]),t._v(" "),_("td",[t._v("hcp-sre-apps")]),t._v(" "),_("td",[t._v("Task, Monitoring, Summary Service 배포 위치")])])])]),t._v(" "),_("h2",{attrs:{id:"harbor-project-구성"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#harbor-project-구성"}},[t._v("#")]),t._v(" harbor project 구성")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("Type")]),t._v(" "),_("th",[t._v("project name")]),t._v(" "),_("th",[t._v("Detail")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("Cluster Initialize")]),t._v(" "),_("td",[t._v("hcp-sre-cluster")]),t._v(" "),_("td",[t._v("cluster 설치에 필요한 모든 이미지 repository")])]),t._v(" "),_("tr",[_("td",[t._v("Apps.")]),t._v(" "),_("td",[t._v("hcp-sre-apps")]),t._v(" "),_("td",[t._v("Task, Monitoring, Summary Service 이미지 repository")])])])]),t._v(" "),_("h2",{attrs:{id:"git-repository-구성"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#git-repository-구성"}},[t._v("#")]),t._v(" git repository 구성")]),t._v(" "),_("ul",[_("li",[t._v("organization name : hcp-sre-cq (원래는 hcp-sre 로 하려고 했으나 github 에서 사용불가라서)")])]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("Type")]),t._v(" "),_("th",[t._v("repository name")]),t._v(" "),_("th",[t._v("Detail")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("Cluster Initialize")]),t._v(" "),_("td",[t._v("hcp-sre-cluster-init")]),t._v(" "),_("td",[t._v("cluster 초기 setup deployments repository, 폴더는 클러스터별로 생성됨")])]),t._v(" "),_("tr",[_("td",[t._v("Cluster Deployments")]),t._v(" "),_("td",[t._v("hcp-sre-cluster-deploy")]),t._v(" "),_("td",[t._v("service delpoyments repository, 폴더는 서비스별로 생성됨")])]),t._v(" "),_("tr",[_("td",[t._v("Apps.")]),t._v(" "),_("td",[t._v("hcp-sre-apps-task")]),t._v(" "),_("td",[t._v("Task repository")])]),t._v(" "),_("tr",[_("td",[t._v("Apps.")]),t._v(" "),_("td",[t._v("hcp-sre-apps-monitoring")]),t._v(" "),_("td",[t._v("monitoring repository")])]),t._v(" "),_("tr",[_("td",[t._v("Apps.")]),t._v(" "),_("td",[t._v("hcp-sre-apps-summary")]),t._v(" "),_("td",[t._v("summary repository")])])])]),t._v(" "),_("h2",{attrs:{id:"domain-구성"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#domain-구성"}},[t._v("#")]),t._v(" domain 구성")]),t._v(" "),_("ul",[_("li",[t._v("sre application 은 1개 도메인을 사용한다.")])]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("Type")]),t._v(" "),_("th",[t._v("name")]),t._v(" "),_("th",[t._v("url")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("CICD")]),t._v(" "),_("td",[t._v("hcp-sre-argocd")]),t._v(" "),_("td",[t._v("argocd.hcpcq.kubepia.net")])]),t._v(" "),_("tr",[_("td",[t._v("CICD")]),t._v(" "),_("td",[t._v("hcp-sre-argo")]),t._v(" "),_("td",[t._v("argo.hcpcq.kubepia.net")])]),t._v(" "),_("tr",[_("td",[t._v("CICD")]),t._v(" "),_("td",[t._v("hcp-sre-harbor")]),t._v(" "),_("td",[t._v("harbor.hcpcq.kubepia.net")])]),t._v(" "),_("tr",[_("td",[t._v("CICD")]),t._v(" "),_("td",[t._v("hcp-sre-gitea")]),t._v(" "),_("td",[t._v("gitea.hcpcq.kubepia.net")])]),t._v(" "),_("tr",[_("td",[t._v("CICD")]),t._v(" "),_("td",[t._v("hcp-sre-grafana")]),t._v(" "),_("td",[t._v("grafana.hcpcq.kubepia.net")])]),t._v(" "),_("tr",[_("td",[t._v("CICD")]),t._v(" "),_("td",[t._v("hcp-sre-prometheus")]),t._v(" "),_("td",[t._v("prometheus.hcpcq.kubepia.net")])]),t._v(" "),_("tr",[_("td",[t._v("Apps.")]),t._v(" "),_("td",[t._v("hcp-sre-apps")]),t._v(" "),_("td",[t._v("hcp-sre-apps.hcpcq.kubepia.net")])])])]),t._v(" "),_("h2",{attrs:{id:"service-endpoint-구성"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#service-endpoint-구성"}},[t._v("#")]),t._v(" Service Endpoint 구성")]),t._v(" "),_("ul",[_("li",[t._v("별도의 gateway 역할을 하는 서비스를 생성하지 않고 k8s ingress 를 이용해서 endpoint 를 관리한다.")]),t._v(" "),_("li",[t._v("cluster 간 gateway 역할도 k8s ingress 를 사용하여 endpoint 를 관리한다.")])]),t._v(" "),_("img",{attrs:{src:"https://www.plantuml.com/plantuml/svg/VP8zJWCn48LxdsAKVWiAMXGXw5UYe5oDR6knilw9nni1KJgEGqF1fH27O98eNdj3uigUxysRqPENb32cqGv2aCH1musWbN418rfe6Hbf0hhKebB6zN1Ru7l_EfMJITozUD9nOwI6HwU2Dox1p_VdxyVNGWZdbOON6M0hW0_sckd3SzkzZ-DGbDWkQgAEfMANk-IwwYj4SYqE86gPqFMy18RGKTImXGEOkkYuN9UGLXUGzSua7zd_We16Qp6-YOob7mOURRmZ25xLvdFuZ_rSSXgmPpjEG9moWYOsTrKynVqCxcEfdj0eLbGHNE75ebTKEOpIzYZ9KPmxJe9YoinoqkGPI-qKVzG_",alt:"uml diagram"}}),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("Type")]),t._v(" "),_("th",[t._v("name")]),t._v(" "),_("th",[t._v("url")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("Apps.")]),t._v(" "),_("td",[t._v("hcp-sre-apps-task")]),t._v(" "),_("td",[t._v("deployment 만 실행")])]),t._v(" "),_("tr",[_("td",[t._v("Apps.")]),t._v(" "),_("td",[t._v("hcp-sre-apps-monitoring")]),t._v(" "),_("td",[t._v("deployment 만 실행")])]),t._v(" "),_("tr",[_("td",[t._v("Apps.")]),t._v(" "),_("td",[t._v("hcp-sre-apps-summary")]),t._v(" "),_("td",[t._v("deployment 만 실행")])])])]),t._v(" "),_("h2",{attrs:{id:"application-배포-구성"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#application-배포-구성"}},[t._v("#")]),t._v(" application 배포 구성")]),t._v(" "),_("img",{attrs:{src:"https://www.plantuml.com/plantuml/svg/dP9FIyGm4CNlyoc6lQ_WGP15P9LbpxrvB4EITaFJ9EOFjNvw4rjiitOzU0dCl5zU-Xuz-a0kn5u1U4PAu3tuJcfBZdgiaYIPjAH3HPnBtUB3Idur7yiwo91kxrwiLP9Ha4RZILXbHZmhC-m0JczL_HcZmlqpfYjEU5zVcCK3CYSe22Hhxs2jb21xXsBASY3VGJxoGAurGrFFRWTqKUDWNDUazw4Kd_ROof2OV39bjBW2ajq4sEWlE5BgvnUG5uolld-QQMdWhz1yAkUVeV4wzMotdNeMRwUUWGsxtd3PZ4K32toZejBjko8_QhPPqBnBRFVeVse1E0hDqr_v1G00",alt:"uml diagram"}}),t._v(" "),_("h2",{attrs:{id:"deploy-repository-구성"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#deploy-repository-구성"}},[t._v("#")]),t._v(" Deploy Repository 구성")]),t._v(" "),_("ul",[_("li",[t._v("base 폴더는 chart 파일을 관리하고 차트 버전별로 폴더를 구성한다.")]),t._v(" "),_("li",[t._v("template 폴더는 base 폴더의 특정(최종) 버전을 사용하도록 설정이 되며, 실제 배포용 파일로 사용한다.")]),t._v(" "),_("li",[t._v("cluster 별 폴더는 배포되는 클러스터를 구분한다.")]),t._v(" "),_("li",[t._v("cluster - project - apps/pvcs/jobs 형태로 폴더를 구성한다.")]),t._v(" "),_("li",[t._v("cluster 폴더와 template 폴더 하위 구조를 일치시켜서 상대경로에 대한 오류를 방지한다.")]),t._v(" "),_("li",[t._v("github : https://github.com/hcp-sre-cq/hcp-sre-cluster-deploy")])]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("1depth")]),t._v(" "),_("th",[t._v("2depth")]),t._v(" "),_("th",[t._v("3depth")]),t._v(" "),_("th",[t._v("설명")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("base")]),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td",[t._v("base 저장소 root")])]),t._v(" "),_("tr",[_("td",[t._v("base")]),t._v(" "),_("td",[t._v("apps")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("application root")])]),t._v(" "),_("tr",[_("td",[t._v("base")]),t._v(" "),_("td",[t._v("apps")]),t._v(" "),_("td",[t._v("python-backend-v1.0.0")]),t._v(" "),_("td",[t._v("python backend deployment yaml")])]),t._v(" "),_("tr",[_("td",[t._v("base")]),t._v(" "),_("td",[t._v("apps")]),t._v(" "),_("td",[t._v("springboot-backend-v1.0.0")]),t._v(" "),_("td",[t._v("springboot backend deployment yaml")])]),t._v(" "),_("tr",[_("td",[t._v("base")]),t._v(" "),_("td",[t._v("apps")]),t._v(" "),_("td",[t._v("springboot-module-v1.0.0")]),t._v(" "),_("td",[t._v("springboot module deployment yaml")])]),t._v(" "),_("tr",[_("td",[t._v("base")]),t._v(" "),_("td",[t._v("jobs")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("job root")])]),t._v(" "),_("tr",[_("td",[t._v("base")]),t._v(" "),_("td",[t._v("jobs")]),t._v(" "),_("td",[t._v("job-v1.0.0")]),t._v(" "),_("td",[t._v("job deployment yaml")])]),t._v(" "),_("tr",[_("td",[t._v("base")]),t._v(" "),_("td",[t._v("pvcs")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("pvc root")])]),t._v(" "),_("tr",[_("td",[t._v("base")]),t._v(" "),_("td",[t._v("pvcs")]),t._v(" "),_("td",[t._v("pvc-v1.0.0")]),t._v(" "),_("td",[t._v("pvc deployment yaml")])]),t._v(" "),_("tr",[_("td",[t._v("template")]),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td",[t._v("template root")])]),t._v(" "),_("tr",[_("td",[t._v("template")]),t._v(" "),_("td",[t._v("project")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("project root")])]),t._v(" "),_("tr",[_("td",[t._v("template")]),t._v(" "),_("td",[t._v("project")]),t._v(" "),_("td",[t._v("apps")]),t._v(" "),_("td",[t._v("app root")])]),t._v(" "),_("tr",[_("td",[t._v("template")]),t._v(" "),_("td",[t._v("project")]),t._v(" "),_("td",[t._v("jobs")]),t._v(" "),_("td",[t._v("jobs root")])]),t._v(" "),_("tr",[_("td",[t._v("template")]),t._v(" "),_("td",[t._v("project")]),t._v(" "),_("td",[t._v("pvcs")]),t._v(" "),_("td",[t._v("pvcs root")])]),t._v(" "),_("tr",[_("td",[t._v("hcpcq-aws")]),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td",[t._v("cluster root")])]),t._v(" "),_("tr",[_("td",[t._v("hcpcq-aws")]),t._v(" "),_("td",[t._v("hcp-test")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("project root")])]),t._v(" "),_("tr",[_("td",[t._v("hcpcq-aws")]),t._v(" "),_("td",[t._v("hcp-test")]),t._v(" "),_("td",[t._v("apps")]),t._v(" "),_("td",[t._v("apps root")])]),t._v(" "),_("tr",[_("td",[t._v("hcpcq-aws")]),t._v(" "),_("td",[t._v("hcp-test")]),t._v(" "),_("td",[t._v("jobs")]),t._v(" "),_("td",[t._v("jobs root")])]),t._v(" "),_("tr",[_("td",[t._v("hcpcq-aws")]),t._v(" "),_("td",[t._v("hcp-test")]),t._v(" "),_("td",[t._v("pvcs")]),t._v(" "),_("td",[t._v("pvcs root")])])])]),t._v(" "),_("h2",{attrs:{id:"cluster-initialize-repository-구성"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#cluster-initialize-repository-구성"}},[t._v("#")]),t._v(" Cluster Initialize Repository 구성")]),t._v(" "),_("ul",[_("li",[t._v("base 폴더는 chart 파일을 관리하고 차트 버전별로 폴더를 구성한다.")]),t._v(" "),_("li",[t._v("cluster 별 폴더는 배포되는 클러스터를 구분한다.")]),t._v(" "),_("li",[t._v("github : https://github.com/hcp-sre-cq/hcp-sre-cluster-int")])]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("1depth")]),t._v(" "),_("th",[t._v("2depth")]),t._v(" "),_("th",[t._v("3depth")]),t._v(" "),_("th",[t._v("설명")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("base")]),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td",[t._v("base 저장소 root")])]),t._v(" "),_("tr",[_("td",[t._v("base")]),t._v(" "),_("td",[t._v("argo")]),t._v(" "),_("td",[t._v("argo-workflows-v0.8.1")]),t._v(" "),_("td",[t._v("argo-workflows chart")])]),t._v(" "),_("tr",[_("td",[t._v("base")]),t._v(" "),_("td",[t._v("argocd")]),t._v(" "),_("td",[t._v("argo-cd-v3.26.5")]),t._v(" "),_("td",[t._v("argo-cd chart")])]),t._v(" "),_("tr",[_("td",[t._v("base")]),t._v(" "),_("td",[t._v("argowf")]),t._v(" "),_("td",[t._v("argowf-v1.0.0")]),t._v(" "),_("td",[t._v("argowf chart")])]),t._v(" "),_("tr",[_("td",[t._v("base")]),t._v(" "),_("td",[t._v("common")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("공통 설치 deployment")])]),t._v(" "),_("tr",[_("td",[t._v("base")]),t._v(" "),_("td",[t._v("gitea")]),t._v(" "),_("td",[t._v("gitea-v4.1.1")]),t._v(" "),_("td",[t._v("gitea chart")])]),t._v(" "),_("tr",[_("td",[t._v("base")]),t._v(" "),_("td",[t._v("harbor")]),t._v(" "),_("td",[t._v("harbor-v1.7.3")]),t._v(" "),_("td",[t._v("harbor chart")])]),t._v(" "),_("tr",[_("td",[t._v("hcpcq-aws")]),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td",[t._v("cluster root")])]),t._v(" "),_("tr",[_("td",[t._v("hcpcq-aws")]),t._v(" "),_("td",[t._v("argo")]),t._v(" "),_("td",[t._v("argo-workflows-v0.8.1")]),t._v(" "),_("td",[t._v("argo-workflows chart")])]),t._v(" "),_("tr",[_("td",[t._v("hcpcq-aws")]),t._v(" "),_("td",[t._v("argocd")]),t._v(" "),_("td",[t._v("argo-cd-v3.26.5")]),t._v(" "),_("td",[t._v("argo-cd chart")])]),t._v(" "),_("tr",[_("td",[t._v("hcpcq-aws")]),t._v(" "),_("td",[t._v("argowf")]),t._v(" "),_("td",[t._v("argowf-v1.0.0")]),t._v(" "),_("td",[t._v("argowf chart")])]),t._v(" "),_("tr",[_("td",[t._v("hcpcq-aws")]),t._v(" "),_("td",[t._v("common")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("공통 설치 deployment")])]),t._v(" "),_("tr",[_("td",[t._v("hcpcq-aws")]),t._v(" "),_("td",[t._v("gitea")]),t._v(" "),_("td",[t._v("gitea-v4.1.1")]),t._v(" "),_("td",[t._v("gitea chart")])]),t._v(" "),_("tr",[_("td",[t._v("hcpcq-aws")]),t._v(" "),_("td",[t._v("harbor")]),t._v(" "),_("td",[t._v("harbor-v1.7.3")]),t._v(" "),_("td",[t._v("harbor chart")])])])])])}),[],!1,null,null,null);v.default=e.exports}}]);