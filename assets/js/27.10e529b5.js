(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{723:function(s,t,a){s.exports=a.p+"assets/img/2022-07-28-15-14-54.f079f6a0.png"},724:function(s,t,a){s.exports=a.p+"assets/img/2022-07-28-15-12-16.cf0f644c.png"},800:function(s,t,a){"use strict";a.r(t);var n=a(15),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("p",[s._v("Node.js v16.15.x 이상의 stable version 기준, Backend Framework 검토.")]),s._v(" "),n("h2",{attrs:{id:"nestjs-nest"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#nestjs-nest"}},[s._v("#")]),s._v(" NestJS (Nest)")]),s._v(" "),n("ul",[n("li",[s._v("OOP / FP 등의 요소가 결합되어, 기존 Spring 기반 Backend 개발 방식과 유사하게 작업이 가능")]),s._v(" "),n("li",[s._v("Typescript 를 지원하여 pure Javascript 에서 다루기 어려운, Data Type 등을 관리하는데 강점")]),s._v(" "),n("li",[s._v("CLI 가 제공되어, 개발 resource 를 자동으로 생성하는 기능을 제공")]),s._v(" "),n("li",[s._v("관련 문서\n"),n("ul",[n("li",[s._v("Nest 공식 개발 문서: "),n("a",{attrs:{href:"https://docs.nestjs.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://docs.nestjs.com/"),n("OutboundLink")],1)]),s._v(" "),n("li",[s._v("Nest CRUD Generator 설명: "),n("a",{attrs:{href:"https://docs.nestjs.com/recipes/crud-generator",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://docs.nestjs.com/recipes/crud-generator"),n("OutboundLink")],1)])])])]),s._v(" "),n("h3",{attrs:{id:"source-code-repository"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#source-code-repository"}},[s._v("#")]),s._v(" Source code repository")]),s._v(" "),n("ul",[n("li",[s._v("Nest 초기 검토 내역: "),n("a",{attrs:{href:"https://github.com/hcp-bpcp/hcp-bpcp-backend-nestjs",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/hcp-bpcp/hcp-bpcp-backend-nestjs"),n("OutboundLink")],1)]),s._v(" "),n("li",[s._v("Nest 기반 기능 검증: "),n("a",{attrs:{href:"https://github.com/hcp-bpcp/hcp-bpcp-backend-nestjs",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/hcp-bpcp/hcp-bpcp-backend-nestjs"),n("OutboundLink")],1),s._v(" "),n("ul",[n("li",[s._v("ORM: TypeORM, Prisma")]),s._v(" "),n("li",[s._v("ODM: Mongoose")]),s._v(" "),n("li",[s._v("Redis 기반 Cache, Queue 활용")])])])]),s._v(" "),n("h3",{attrs:{id:"cli-활용"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#cli-활용"}},[s._v("#")]),s._v(" CLI 활용")]),s._v(" "),n("p",[s._v("Nest CLI 활용은 최초에 framework setup 시 유리한 점이 많으며, 이미 제공된 framework 내에서 API 추가할 경우에는 "),n("em",[n("u",[s._v("굳이 사용하지 않아도 관계 없음.")])])]),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"title"}),n("p",[s._v("Nest CLI Docs."),n("br"),s._v(" "),n("a",{attrs:{href:"https://docs.nestjs.com/cli/usages#cli-command-reference",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://docs.nestjs.com/cli/usages#cli-command-reference"),n("OutboundLink")],1)])]),n("ul",[n("li",[s._v("Nest CLI Install")])]),s._v(" "),n("p",[s._v("Node.js Global package 로 설치")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i -g @nestjs/cli\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ul",[n("li",[n("p",[s._v("nest generate")]),s._v(" "),n("ul",[n("li",[n("code",[s._v("nest generate resource")]),s._v(" 를 활용하여, REST API 및 CRUD Endpoint 자동 생성 가능")]),s._v(" "),n("li",[s._v("module, controller, service, dto, entity 관련 파일이 자동 생성되며, AppModule 에 auto-import")]),s._v(" "),n("li",[s._v("CLI 를 활용하여 자동 생성한 typescript resource tree 구조 예시")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("├── dto\n│   ├── create-user.dto.ts\n│   └── update-user.dto.ts\n├── entities\n│   ├── user.entity.ts\n│   └── user.provider.ts\n├── users.controller.ts\n├── users.module.ts\n└── users.service.ts\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("ul",[n("li",[s._v("Nest CLI command "),n("code",[s._v("nest generate")]),s._v(" 를 활용하여 생성 가능한 element 는 아래 예시 참조")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("Generate a Nest element.\n  Schematics available on @nestjs/schematics collection:\n    ┌───────────────┬─────────────┬──────────────────────────────────────────────┐\n    │ name          │ alias       │ description                                  │\n    │ application   │ application │ Generate a new application workspace         │\n    │ class         │ cl          │ Generate a new class                         │\n    │ configuration │ config      │ Generate a CLI configuration file            │\n    │ controller    │ co          │ Generate a controller declaration            │\n    │ decorator     │ d           │ Generate a custom decorator                  │\n    │ filter        │ f           │ Generate a filter declaration                │\n    │ gateway       │ ga          │ Generate a gateway declaration               │\n    │ guard         │ gu          │ Generate a guard declaration                 │\n    │ interceptor   │ in          │ Generate an interceptor declaration          │\n    │ interface     │ interface   │ Generate an interface                        │\n    │ middleware    │ mi          │ Generate a middleware declaration            │\n    │ module        │ mo          │ Generate a module declaration                │\n    │ pipe          │ pi          │ Generate a pipe declaration                  │\n    │ provider      │ pr          │ Generate a provider declaration              │\n    │ resolver      │ r           │ Generate a GraphQL resolver declaration      │\n    │ service       │ s           │ Generate a service declaration               │\n    │ library       │ lib         │ Generate a new library within a monorepo     │\n    │ sub-app       │ app         │ Generate a new application within a monorepo │\n    │ resource      │ res         │ Generate a new CRUD resource                 │\n    └───────────────┴─────────────┴──────────────────────────────────────────────┘\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br")])])])]),s._v(" "),n("h3",{attrs:{id:"crud-resource"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#crud-resource"}},[s._v("#")]),s._v(" CRUD Resource")]),s._v(" "),n("p",[s._v("Nest 기반 API 개발 시 활용되는 resource 자세한 내용은 아래 문서 참고.")]),s._v(" "),n("ul",[n("li",[s._v("Documents Reference\n"),n("ul",[n("li",[s._v("Basics"),n("br"),s._v(" "),n("a",{attrs:{href:"https://docs.nestjs.com/first-steps",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://docs.nestjs.com/first-steps"),n("OutboundLink")],1)]),s._v(" "),n("li",[s._v("Controllers"),n("br"),s._v(" "),n("a",{attrs:{href:"https://docs.nestjs.com/controllers",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://docs.nestjs.com/controllers"),n("OutboundLink")],1)]),s._v(" "),n("li",[s._v("Providers"),n("br"),s._v(" "),n("a",{attrs:{href:"https://docs.nestjs.com/providers",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://docs.nestjs.com/providers"),n("OutboundLink")],1)]),s._v(" "),n("li",[s._v("Modules"),n("br"),s._v(" "),n("a",{attrs:{href:"https://docs.nestjs.com/modules",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://docs.nestjs.com/modules"),n("OutboundLink")],1)])])])]),s._v(" "),n("h3",{attrs:{id:"configurtaion-분리"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#configurtaion-분리"}},[s._v("#")]),s._v(" Configurtaion 분리")]),s._v(" "),n("p",[s._v("Nest 는 "),n("code",[s._v("@nestjs/config")]),s._v(" package 를 제공하여, configuration 관리를 framework 차원에서 쉽게 가능하도록 함."),n("br"),s._v("\n기본적으로 Node.js 에서 흔히 사용하는 "),n("strong",[s._v("dotenv")]),s._v(" 를 내장하고 있는 module 이며, "),n("code",[s._v("process.env")]),s._v(" 를 활용하여 .env 에 정의된 config key 에 접근 가능.")]),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"title"}),n("p",[s._v("Nest Configuration 관련 문서"),n("br"),s._v(" "),n("a",{attrs:{href:"https://docs.nestjs.com/techniques/configuration",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://docs.nestjs.com/techniques/configuration"),n("OutboundLink")],1)])]),n("ul",[n("li",[n("p",[s._v("Nest Config module 적용")]),s._v(" "),n("ul",[n("li",[s._v("일반적으로 Node.js application 구동 시 활용하는 "),n("code",[s._v("NODE_ENV")]),s._v(" 환경 변수 정의를 통하여, production / development 배포 환경을 구분하는 방식 사용")]),s._v(" "),n("li",[s._v("Container build 시, 환경 변수 정의하도록 통일.")])]),s._v(" "),n("div",{staticClass:"language-Dockerfile line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("### env config")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token instruction"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ENV")]),s._v(" NODE_ENV=dev")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("ul",[n("li",[s._v("config file 관리")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("config\n├── .dev.env\n└── .local.env\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("ul",[n("li",[s._v("ConfigModule import ("),n("code",[s._v("app.module.ts")]),s._v(")")])]),s._v(" "),n("div",{staticClass:"language-typescript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-typescript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" ConfigModule "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@nestjs/config'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token decorator"}},[n("span",{pre:!0,attrs:{class:"token at operator"}},[s._v("@")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("Module")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  imports"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    ConfigModule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("forRoot")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      envFilePath"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'config/'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("process"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("env"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NODE_ENV")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'prd'")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'.prd.env'")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" process"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("env"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NODE_ENV")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'stg'")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'.stg.env'")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" process"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("env"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NODE_ENV")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'dev'")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'.dev.env'")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'.local.env'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])])])]),s._v(" "),n("h3",{attrs:{id:"logger-설정"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#logger-설정"}},[s._v("#")]),s._v(" Logger 설정")]),s._v(" "),n("p",[s._v("Nest 에서는 "),n("code",[s._v("@nestjs/common")]),s._v(" 에 내장된 기본 logger module 을 통해서, logging 에 대한 편의성을 제공하고 있음."),n("br"),s._v("\nFramework 관점에서는, 추가적으로 Access Logging 을 위한 공통 middleware 를 개발하여 적용하였음.")]),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"title"}),n("p",[s._v("Nest Logging 관련 문서"),n("br"),s._v(" "),n("a",{attrs:{href:"https://docs.nestjs.com/techniques/logger",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://docs.nestjs.com/techniques/logger"),n("OutboundLink")],1)])]),n("ul",[n("li",[n("p",[s._v("공통 module import 내역")]),s._v(" "),n("ul",[n("li",[s._v("LoggerModule, WinstonMiddleware import ("),n("code",[s._v("app.module.ts")]),s._v(")")])]),s._v(" "),n("div",{staticClass:"language-typescript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-typescript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" LoggerModule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" WinstonMiddleware "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hcp-bpcp-module-common'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("ul",[n("li",[s._v("Access Logging 을 윈한 middleware 적용 ("),n("code",[s._v("app.module.ts")]),s._v(")")])]),s._v(" "),n("div",{staticClass:"language-typescript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-typescript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AppModule")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("configure")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("consumer"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" MiddlewareConsumer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("consumer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("apply")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("WinstonMiddleware"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("forRoutes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'*'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("ul",[n("li",[s._v("공통 module repository: "),n("a",{attrs:{href:"https://github.com/hcp-bpcp/hcp-bpcp-module-common",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/hcp-bpcp/hcp-bpcp-module-common"),n("OutboundLink")],1)])])]),s._v(" "),n("li",[n("p",[s._v("Logger 공통 module")]),s._v(" "),n("ul",[n("li",[s._v("Winston 기반으로 log formatting 을 표준화 하였으며, 공통 module 의 LoggerService 를 import 하여 code 내에서 활용 가능")]),s._v(" "),n("li",[s._v("logger 활용 예시")])]),s._v(" "),n("div",{staticClass:"language-typescript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-typescript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 공통 module 에서 import")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" LoggerService "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hcp-bpcp-module-common'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Class 내에 정의 및 활용")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("readonly")]),s._v(" logger "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LoggerService")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("TodosService"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("logger"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("debug")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Debugging'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])])])]),s._v(" "),n("h3",{attrs:{id:"swagger-설정"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#swagger-설정"}},[s._v("#")]),s._v(" Swagger 설정")]),s._v(" "),n("p",[s._v("Node.js 기반 Backend 개발 시 API 문서 관리를 위한 swagger 설정의 경우, 각 API 에 대한 Spec 을 comment 등으로 직접 정의해야 하는 어려움이 있으나, Nest 의 경우 swagger 관련 module 이 포함되어 있는 "),n("code",[s._v("@nestjs/swagger")]),s._v(" package 를 제공하여 API 문서 관리에 대한 편의성을 제공.")]),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"title"}),n("p",[s._v("Nest Swagger 관련 문서"),n("br"),s._v(" "),n("a",{attrs:{href:"https://docs.nestjs.com/openapi/introduction",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://docs.nestjs.com/openapi/introduction"),n("OutboundLink")],1)])]),n("ul",[n("li",[n("p",[s._v("Swagger setup 공통 service")]),s._v(" "),n("ul",[n("li",[n("code",[s._v("/api-docs")]),s._v(" URL 로 접근 가능한, Swagger document spec 정의를 위한 class 정의")]),s._v(" "),n("li",[n("code",[s._v("utils/swagger.service.ts")])])]),s._v(" "),n("div",{staticClass:"language-typescript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-typescript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" INestApplication "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@nestjs/common'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" SwaggerModule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" DocumentBuilder "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@nestjs/swagger'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SwaggerService")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// eslint-disable-next-line @typescript-eslint/no-empty-function")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("constructor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n  * Swagger settings.\n  *\n  * @param {INestApplication} app\n  */")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("setupSwagger")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("app"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" INestApplication"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" options "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("DocumentBuilder")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("setTitle")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'NestJS API Docs'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("setDescription")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'NestJS API description'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("setVersion")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1.0.0'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("build")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" document "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" SwaggerModule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("createDocument")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("app"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    SwaggerModule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("setup")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'api-docs'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" app"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("Swagger API Docs setup")]),s._v(" "),n("ul",[n("li",[s._v("Nest AppModule 을 포함한 application 구동 시 실행되는 "),n("code",[s._v("main.ts")]),s._v(" 에서, swagger 공통 service 의 function 호출")]),s._v(" "),n("li",[n("code",[s._v("main.ts")]),s._v(" setupSwagger function 호출")])]),s._v(" "),n("div",{staticClass:"language-typescript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-typescript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" SwaggerService "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./utils/swagger.service'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Swagger setup")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SwaggerService")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("setupSwagger")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("app"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("(Optional) Swagger 공통 module 활용")]),s._v(" "),n("ul",[n("li",[s._v("swagger setup 을 위한 function 을 공통 module 설치를 통해서도 활용 가능하나, API 문서 Spec 변경의 자유도가 떨어짐")]),s._v(" "),n("li",[s._v("활용 방법\n"),n("ul",[n("li",[n("code",[s._v("npm install hcp-bpcp-module-common")]),s._v(" 로 package 설치")]),s._v(" "),n("li",[n("code",[s._v("import { SwaggerService } from 'hcp-bpcp-module-common';")]),s._v(" 로 import")])])]),s._v(" "),n("li",[s._v("공통 module repository: "),n("a",{attrs:{href:"https://github.com/hcp-bpcp/hcp-bpcp-module-common",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/hcp-bpcp/hcp-bpcp-module-common"),n("OutboundLink")],1)])])]),s._v(" "),n("li",[n("p",[s._v("API Tag 정의 방법")]),s._v(" "),n("ul",[n("li",[s._v("Contoller 단위로 Swagger API Tagging 가능")]),s._v(" "),n("li",[s._v("Controller 내에, "),n("code",[s._v("@ApiTags")]),s._v(" Decorator 적용 예시")])]),s._v(" "),n("div",{staticClass:"language-typescript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-typescript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" ApiTags "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@nestjs/swagger'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token decorator"}},[n("span",{pre:!0,attrs:{class:"token at operator"}},[s._v("@")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ApiTags")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'User API'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token decorator"}},[n("span",{pre:!0,attrs:{class:"token at operator"}},[s._v("@")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("Controller")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'users'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UsersController")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("ul",[n("li",[s._v("Swagger 화면 조회 예시"),n("br"),s._v(" "),n("img",{attrs:{src:a(723),alt:""}})])])]),s._v(" "),n("li",[n("p",[s._v("API Schema 정의")]),s._v(" "),n("ul",[n("li",[s._v("DTO 혹은 API Docs 에 포함되기 원하는 class 에 API Property 를 적용하여 schema 정의 가능")]),s._v(" "),n("li",[n("code",[s._v("@ApiProperty")]),s._v(" Decorator 적용 예시")])]),s._v(" "),n("div",{staticClass:"language-ts line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-ts"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" ApiProperty "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@nestjs/swagger'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("CreateUserDto")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token decorator"}},[n("span",{pre:!0,attrs:{class:"token at operator"}},[s._v("@")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ApiProperty")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" description"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'User ID'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("readonly")]),s._v(" userId"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token decorator"}},[n("span",{pre:!0,attrs:{class:"token at operator"}},[s._v("@")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ApiProperty")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" description"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Password'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("readonly")]),s._v(" password"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token decorator"}},[n("span",{pre:!0,attrs:{class:"token at operator"}},[s._v("@")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ApiProperty")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" description"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'First name'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("readonly")]),s._v(" firstName"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token decorator"}},[n("span",{pre:!0,attrs:{class:"token at operator"}},[s._v("@")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ApiProperty")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" description"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Last name'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("readonly")]),s._v(" lastName"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token decorator"}},[n("span",{pre:!0,attrs:{class:"token at operator"}},[s._v("@")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ApiProperty")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" description"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'email'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("readonly")]),s._v(" email"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("ul",[n("li",[s._v("Swagger 화면 조회 예시"),n("br"),s._v(" "),n("img",{attrs:{src:a(724),alt:""}})])])])]),s._v(" "),n("h2",{attrs:{id:"express"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#express"}},[s._v("#")]),s._v(" Express")]),s._v(" "),n("p",[s._v("pure Javascript 기반 Node.js Express backend framework 검토."),n("br"),s._v("\nNest 활용으로 최종 결정하였으나, 간단한 Test 용 API sample 개발 내역임.")]),s._v(" "),n("h3",{attrs:{id:"source-code-repository-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#source-code-repository-2"}},[s._v("#")]),s._v(" Source code repository")]),s._v(" "),n("ul",[n("li",[s._v("Express 기반 기능 검증: "),n("a",{attrs:{href:"https://github.com/hcp-bpcp/hcp-bpcp-backend-express",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/hcp-bpcp/hcp-bpcp-backend-express"),n("OutboundLink")],1),s._v(" "),n("ul",[n("li",[s._v("ORM: sequelize")]),s._v(" "),n("li",[s._v("Entity 자동 생성 및 CRUD 기능 개발")]),s._v(" "),n("li",[s._v("Raw SQL 활용 검토")])])])]),s._v(" "),n("h3",{attrs:{id:"example"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#example"}},[s._v("#")]),s._v(" Example")]),s._v(" "),n("ul",[n("li",[s._v("routes / controllers / models 기준의 layered arch. 적용")]),s._v(" "),n("li",[s._v("Directory 구조 아래 참고")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("app\n├── app.js\n├── config\n│   └── db.config.js\n├── controllers\n│   └── user.controller.js\n├── models\n│   ├── index.js\n│   └── user.model.js\n├── routes\n│   ├── index.js\n│   └── user.routes.js\n├── server.js\n└── utils\n    ├── swagger\n    │   └── User.yaml\n    └── swagger.js\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);